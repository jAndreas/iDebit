define(["es5shim"],function(e){var t=Object.create(null),n=Object.prototype.toString,r=Object.getOwnPropertyDescriptor,i=Object.defineProperty,s=Object.getOwnPropertyNames,o=Array.prototype.slice,u=[],a=window,f=a.document,l;return t.mixin=function(t){return{"with":function(e){function n(n){i(t,n,r(e,n))}return s(e).forEach(n),t}}},t.type=function(t){var r=n.call(t).split(" ")[1].replace("]","");return t===a?r="Window":r==="Window"||r==="Global"?r="Undefined":r.indexOf("HTML")===0&&(r="Node"),a.setLastError(r)},t.hasKeys=function(n,r){function i(e){return e in n}return typeof r=="string"&&(r=r.split(/\s/)),t.type(n)==="Object"&&Object.type(r)==="Array"?r.every(i):!1},t.map=function(n,r){t.type(n)==="Object"&&t.type(r)==="Function"&&Object.keys(n).forEach(function(t){(function(t,r){r&&r.length&&(n[r[0]||t]=r[1],r[0]&&t!==r[0]&&delete n[t])})(t,r.apply(n,[t,n[t]]))})},String.prototype.sFormat=function(n){var r=this.toString(),i=t.type(n)==="Array"?n:o.call(arguments),s=0;while(~r.indexOf("%r"))r=r.replace("%r",i[s++]);return r},t.requestAnimFrame=function(){return a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||function e(t){a.setTimeout(function(){"hasFocus"in f?f.hasFocus()?t():e(t):t()},1e3/60)}}(),a.getLastError=function(e){return typeof e=="number"?u.slice(e)[0]:u.slice(-1)[0]},a.setLastError=function(e){if(e!==l)return u.length>=10&&u.shift(),u.push(e),e},"console"in a||(a.console={},"debug info warn exception assert dir dirxml trace group groupEnd time timeEnd profile profileEnd table log error".split(/\s/).forEach(function(e){a.console[e]=function(){}})),t})